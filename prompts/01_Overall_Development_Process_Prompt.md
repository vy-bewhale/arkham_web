# Промт 01: Общий План Разработки Streamlit-приложения для Arkham Client

**Роль:** Ведущий Архитектор Проекта / Технический Менеджер

**Дата:** {{YYYY-MM-DD}} <!-- Замени на текущую дату -->

**Цель:** Определить и задокументировать всеобъемлющий, итеративный и строго контролируемый процесс разработки интерактивного веб-приложения Streamlit на основе библиотеки `arkham_client`. Этот процесс должен включать этапы анализа, проектирования (UI и архитектуры), разработки, а также обязательные циклы самокритики и доработки на каждом значимом шаге для обеспечения высокого качества, надежности, расширяемости и удобства использования конечного продукта.

**Основные этапы и задачи:**

1.  **Анализ Функционала `arkham_client` (Завершено):**
    *   Убедиться, что все ключевые возможности библиотеки `arkham_client` поняты и могут быть транслированы в пользовательские функции приложения.
    *   Определить, какие данные от библиотеки потребуются для отображения в UI.

2.  **Разработка Пользовательского Интерфейса (UI):**
    *   **2.1. Создание Промта для Разработки UI (`prompts/02_UI_Development_Prompt.md`):**
        *   Роль: UX/UI Дизайнер.
        *   Задача: Сформулировать детальные требования и шаги для проектирования интуитивно понятного, компактного и эффективного пользовательского интерфейса Streamlit. Учесть специфику Streamlit (размеры элементов, шрифты) и необходимость экономии пространства.
    *   **2.2. Проектирование UI:**
        *   Действовать согласно `prompts/02_UI_Development_Prompt.md`.
        *   Определить основные экраны/секции приложения.
        *   Разработать макеты или подробные описания расположения элементов управления (фильтры, кнопки) и областей отображения данных (таблицы, графики, если применимо).
        *   **Критерии выбора вариантов:** Интуитивность (10), Компактность (9), Эффективность (8), Расширяемость (7), Эстетика (6).
        *   **Самокритика и Доработка:** После первоначального дизайна провести жесткий анализ: что неудобно, что можно упростить, где не хватает информации, где избыток. Внести коррективы.
    *   **2.3. Документирование UI (`streamlit_app/docs/UI_Specification.md`):**
        *   Зафиксировать финальный дизайн UI.

3.  **Проектирование Архитектуры Приложения:**
    *   **3.1. Создание Промта для Выбора Архитектуры (`prompts/03_Architecture_Choice_Prompt.md`):**
        *   Роль: Системный Архитектор.
        *   Задача: Определить шаги для выбора простой, но надежной, эффективной и расширяемой архитектуры для Streamlit-приложения. Рассмотреть управление состоянием, взаимодействие с `arkham_client`, обработку данных.
    *   **3.2. Выбор и Описание Архитектуры:**
        *   Действовать согласно `prompts/03_Architecture_Choice_Prompt.md`.
        *   Рассмотреть варианты (например, однофайловое приложение, разделение на модули для логики и UI, использование сессий Streamlit для состояния).
        *   **Критерии выбора вариантов:** Простота реализации (10), Надежность (9), Эффективность (8), Расширяемость (7), Поддерживаемость (8).
        *   **Самокритика и Доработка:** Проанализировать выбранную архитектуру на предмет узких мест, потенциальных проблем масштабирования, сложности поддержки. Упростить, если возможно, или обосновать сложность.
    *   **3.3. Документирование Архитектуры (`streamlit_app/docs/Architecture_Specification.md`):**
        *   Зафиксировать выбранную архитектуру.

4.  **Детальная Проработка Плана Разработки Кода:**
    *   **4.1. Создание Промта для Детальной Разработки (`prompts/04_Detailed_Coding_Prompt.md`):**
        *   Роль: Ведущий Разработчик.
        *   Задача: Составить пошаговый план написания кода приложения, включая структуру файлов, основные функции, обработку ошибок, взаимодействие компонентов UI и логики.
    *   **4.2. Утверждение Плана Кодирования:**
        *   Провести самокритику плана: все ли учтено, нет ли избыточности, понятны ли шаги.

5.  **Разработка Streamlit-Приложения:**
    *   **5.1. Настройка Окружения и Зависимостей:**
        *   Создать `streamlit_app/requirements.txt` (включая `streamlit`, `pandas`, `python-dotenv` и путь к локальной `arkham_client`).
    *   **5.2. Реализация Кода:**
        *   Действовать строго по `prompts/04_Detailed_Coding_Prompt.md`.
        *   Создать основной файл приложения (например, `streamlit_app/app.py`).
        *   Реализовать UI компоненты.
        *   Интегрировать логику `arkham_client`.
        *   Обеспечить загрузку API-ключа из `.env` файла в корневой директории проекта (`arkham_web/.env`).
        *   Реализовать обработку ошибок и обратную связь для пользователя.
    *   **5.3. Пошаговая Критика и Рефакторинг:**
        *   После реализации каждого логического блока или функции проводить самокритику: оптимальность кода, читаемость, соответствие UI и архитектуре, обработка крайних случаев.
        *   Проводить рефакторинг по результатам критики.

6.  **Тестирование:**
    *   **6.1. Модульное тестирование (по возможности):** Проверка отдельных функций.
    *   **6.2. Интеграционное тестирование:** Проверка взаимодействия UI и `arkham_client`.
    *   **6.3. Пользовательское тестирование (симуляция):** Проверка всех сценариев использования с точки зрения пользователя.

7.  **Документирование и Подготовка к Сдаче:**
    *   **7.1. Финальный `README.md` для `streamlit_app/README.md`:** Инструкции по запуску, описание функционала.
    *   **7.2. Проверка всех созданных документов на актуальность.**

**Общие Принципы на Всех Этапах:**

*   **Итеративность:** Не бояться возвращаться на предыдущие шаги для внесения улучшений после критики.
*   **Самокритика:** На каждом этапе задавать вопросы: "Что можно сделать лучше/проще/надежнее?", "Какие проблемы я не учел?", "Обоснована ли текущая сложность?".
*   **Документирование:** Все ключевые решения, промты и спецификации должны быть задокументированы.
*   **Простота:** Стремиться к максимально простым решениям. Каждое усложнение должно быть четко обосновано.
*   **Компактность UI:** Следовать требованию пользователя о компактности интерфейса Streamlit.

**Формат вывода:**

*   Все промты и спецификации создаются как отдельные Markdown-файлы в соответствующих директориях (`prompts/`, `streamlit_app/docs/`).
*   Итоговый код приложения также сохраняется.

**Ожидаемый первый шаг после утверждения этого плана:**
Переход к пункту 2.1: Создание Промта для Разработки UI (`prompts/02_UI_Development_Prompt.md`). 