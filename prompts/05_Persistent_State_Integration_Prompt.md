# –ü—Ä–æ–º—Ç 05 (–í–µ—Ä—Å–∏—è 2): –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–≥–æ –°–æ—Å—Ç–æ—è–Ω–∏—è (–ü–∞–º—è—Ç–∏) –≤ Arkham Alert

**–†–æ–ª—å:** –í–µ–¥—É—â–∏–π –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ / –ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä Streamlit-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

**–î–∞—Ç–∞:** {{YYYY-MM-DD}}

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Arkham Alert –Ω–∞ Streamlit —É—Å–ø–µ—à–Ω–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π `arkham_client`. –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ `arkham_client` —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–µ—Ç–æ–¥—ã `get_full_cache_state()` –∏ `load_full_cache_state()` –¥–ª—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–≤–æ–µ–≥–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∫–µ—à–∞. –¢–µ–∫—É—â–∞—è –∑–∞–¥–∞—á–∞ ‚Äî —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º "–ø–∞–º—è—Ç–∏" –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —á—Ç–æ–±—ã —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–µ—à–∞ `ArkhamMonitor` –∏ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ —Å–æ—Ö—Ä–∞–Ω—è–ª–∏—Å—å –º–µ–∂–¥—É —Å–µ–∞–Ω—Å–∞–º–∏ —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º.

**–¶–µ–ª—å:**
–†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –∏ –æ–ø–∏—Å–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ `streamlit_app/app.py`. –ü–ª–∞–Ω –¥–æ–ª–∂–µ–Ω –≤–∫–ª—é—á–∞—Ç—å:
1.  –ú–µ—Ö–∞–Ω–∏–∑–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–ª–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–µ—à–∞ `ArkhamMonitor`.
2.  –ú–µ—Ö–∞–Ω–∏–∑–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Ñ–∏–ª—å—Ç—Ä–æ–≤.
3.  –°–ø–æ—Å–æ–± –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è/–ø—Ä–æ—Ñ–∏–ª—è.
4.  –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `localStorage` –±—Ä–∞—É–∑–µ—Ä–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.
5.  –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ `streamlit_app/app.py`.
6.  –û–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –∏ –∫—Ä–∞–π–Ω–∏—Ö —Å–ª—É—á–∞–µ–≤, –≤–∫–ª—é—á–∞—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è `localStorage`.

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –ü—Ä–µ–¥–ø–æ—Å—ã–ª–∫–∏:**
*   Streamlit –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä—è–º–æ–≥–æ Python API –¥–ª—è –∑–∞–ø–∏—Å–∏ –≤ `localStorage`.
*   –ë—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –Ω–∞–¥–µ–∂–Ω—ã–π —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Streamlit –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å `localStorage` –∏–ª–∏, –≤ –∫—Ä–∞–π–Ω–µ–º —Å–ª—É—á–∞–µ, —Å–æ–∑–¥–∞–Ω –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π –∫–∞—Å—Ç–æ–º–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç.
*   –°–æ—Å—Ç–æ—è–Ω–∏–µ –∫–µ—à–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –±—É–¥—É—Ç —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ JSON.

**–î–µ—Ç–∞–ª—å–Ω—ã–π –ü–ª–∞–Ω –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:**

**I. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –†–∞–±–æ—Ç—ã —Å `localStorage`**

1.  **–ü–æ–∏—Å–∫ –∏ –í—ã–±–æ—Ä –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:**
    *   **–ó–∞–¥–∞—á–∞:** –ù–∞–π—Ç–∏ –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π, —Ö–æ—Ä–æ—à–æ –∑–∞—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–≤—à–∏–π —Å–µ–±—è Streamlit –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –¥–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å `localStorage`.
    *   **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –∫–∞–Ω–¥–∏–¥–∞—Ç—ã –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è:**
        *   `streamlit-cookies-manager` (—Ö–æ—Ç—è –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ cookies, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –Ω–µ—Ç –ª–∏ —É –Ω–µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –¥–ª—è `localStorage` –∏–ª–∏ –ª–µ–≥–∫–æ –∞–¥–∞–ø—Ç–∏—Ä—É–µ–º—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤).
        *   `streamlit-local-storage` (https://github.com/jrieke/streamlit-local-storage) - –≤—ã–≥–ª—è–¥–∏—Ç –æ–±–µ—â–∞—é—â–µ, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –µ–≥–æ —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏ –ø—Ä–æ—Å—Ç–æ—Ç—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.
        *   –ü–æ–∏—Å–∫ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º: "streamlit localstorage", "streamlit session storage component", "streamlit browser storage".
    *   **–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≤—ã–±–æ—Ä–∞:**
        *   **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏ –ü–æ–¥–¥–µ—Ä–∂–∫–∞:** –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ issues, –Ω–∞–ª–∏—á–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π.
        *   **–ü—Ä–æ—Å—Ç–æ—Ç–∞ API:** –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è `set_item(key, value)` –∏ `get_item(key)`.
        *   **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:** –ö–∞–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–æ–æ–±—â–∞–µ—Ç –æ–± –æ—à–∏–±–∫–∞—Ö JavaScript (–Ω–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ `localStorage` –æ—Ç–∫–ª—é—á–µ–Ω).
        *   **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –ø—Ä–∏ —á–∞—Å—Ç—ã—Ö –≤—ã–∑–æ–≤–∞—Ö (—Ö–æ—Ç—è –º—ã –ø–æ—Å—Ç–∞—Ä–∞–µ–º—Å—è –∏—Ö –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å).
    *   **–ï—Å–ª–∏ –Ω–∞–¥–µ–∂–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω (–ü–ª–∞–Ω –ë - —Å–æ–∑–¥–∞–Ω–∏–µ —Å–≤–æ–µ–≥–æ - –ò–ó–ë–ï–ì–ê–¢–¨ –ü–û –í–û–ó–ú–û–ñ–ù–û–°–¢–ò):**
        *   –ï—Å–ª–∏ –∞–±—Å–æ–ª—é—Ç–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ, —Å–æ–∑–¥–∞—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–∞–∫ –æ–ø–∏—Å–∞–Ω–æ –≤ –í–µ—Ä—Å–∏–∏ 1 –ø—Ä–æ–º—Ç–∞, —Å –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ –Ω–∞–¥–µ–∂–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ JS –∏ —á–µ—Ç–∫—É—é –ø–µ—Ä–µ–¥–∞—á—É —Å—Ç–∞—Ç—É—Å–∞ –≤ Python. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç—â–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –æ—Ç–¥–µ–ª—å–Ω–æ.
    *   **–î–µ–π—Å—Ç–≤–∏–µ:** –í `streamlit_app/requirements.txt` –¥–æ–±–∞–≤–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç. –û–±–µ—Ä–Ω—É—Ç—å –≤—ã–∑–æ–≤—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤ helper-—Ñ—É–Ω–∫—Ü–∏–∏ –≤ `app.py` –¥–ª—è —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä:
        ```python
        # –í app.py
        # import json # –£–∂–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω
        # import streamlit as st # –£–∂–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω
        # from streamlit_local_storage import LocalStorage # –ü—Ä–∏–º–µ—Ä, –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
        # storage_manager = LocalStorage() # –ò–ª–∏ –¥—Ä—É–≥–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç API –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

        def set_to_localStorage(key: str, value_dict: dict) -> bool:
            try:
                json_value = json.dumps(value_dict)
                # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ –ø–µ—Ä–µ–¥ –∑–∞–ø–∏—Å—å—é
                # –£—á–∏—Ç—ã–≤–∞–µ–º, —á—Ç–æ —Å–∏–º–≤–æ–ª—ã UTF-8 –º–æ–≥—É—Ç –∑–∞–Ω–∏–º–∞—Ç—å –±–æ–ª—å—à–µ 1 –±–∞–π—Ç–∞
                estimated_size_bytes = len(json_value.encode('utf-8')) 
                # –û—Å—Ç–∞–≤–ª—è–µ–º –∑–∞–ø–∞—Å, –Ω–∞–ø—Ä–∏–º–µ—Ä, 4.5MB –∏–∑ 5MB –æ–±—â–µ–≥–æ –ª–∏–º–∏—Ç–∞
                if estimated_size_bytes > 4.5 * 1024 * 1024: 
                     st.warning(f"–î–∞–Ω–Ω—ã–µ –¥–ª—è –∫–ª—é—á–∞ '{key}' ({estimated_size_bytes / (1024*1024):.2f} MB) —Å–ª–∏—à–∫–æ–º –≤–µ–ª–∏–∫–∏ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ localStorage (–ª–∏–º–∏—Ç ~4.5MB).")
                     return False
                
                # –ó–ê–ú–ï–ù–ò–¢–¨ –≠–¢–û –†–ï–ê–õ–¨–ù–´–ú –í–´–ó–û–í–û–ú –ö–û–ú–ü–û–ù–ï–ù–¢–ê:
                # component_set_item_status = storage_manager.setItem(key, json_value) 
                # if not component_set_item_status: # –ï—Å–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –∑–∞–ø–∏—Å–∏
                #    st.error(f"–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ —Å–º–æ–≥ –∑–∞–ø–∏—Å–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ localStorage (–∫–ª—é—á: {key}).")
                #    return False
                print(f"DEBUG: –ü—ã—Ç–∞—é—Å—å –∑–∞–ø–∏—Å–∞—Ç—å –≤ localStorage: key='{key}', value='{json_value[:100]}...'") # –£–±—Ä–∞—Ç—å –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
                # –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º, —á—Ç–æ –µ—Å–ª–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –Ω–µ—Ç, —Ç–æ –∑–∞–ø–∏—Å—å —É—Å–ø–µ—à–Ω–∞, –∏–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–∞–º –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç
                return True 
            except TypeError as e: 
                st.error(f"–û—à–∏–±–∫–∞ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è localStorage (–∫–ª—é—á: {key}): {e}")
                return False
            except Exception as e: 
                st.error(f"–û—à–∏–±–∫–∞ –∑–∞–ø–∏—Å–∏ –≤ localStorage (–∫–ª—é—á: {key}): {e}")
                return False

        def get_from_localStorage(key: str) -> dict | None:
            try:
                # –ó–ê–ú–ï–ù–ò–¢–¨ –≠–¢–û –†–ï–ê–õ–¨–ù–´–ú –í–´–ó–û–í–û–ú –ö–û–ú–ü–û–ù–ï–ù–¢–ê:
                # json_value = storage_manager.getItem(key) 
                json_value = None # –ó–∞–≥–ª—É—à–∫–∞
                print(f"DEBUG: –ü—ã—Ç–∞—é—Å—å –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∏–∑ localStorage: key='{key}', –ø–æ–ª—É—á–∏–ª='{str(json_value)[:100]}...'") # –£–±—Ä–∞—Ç—å –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
                
                if json_value:
                    return json.loads(json_value)
                return None
            except json.JSONDecodeError:
                st.warning(f"–û—à–∏–±–∫–∞ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ localStorage (–∫–ª—é—á: {key}). –î–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –ø–æ–≤—Ä–µ–∂–¥–µ–Ω—ã. –ö–ª—é—á –±—É–¥–µ—Ç –æ—á–∏—â–µ–Ω.")
                # –ó–ê–ú–ï–ù–ò–¢–¨ –≠–¢–û –†–ï–ê–õ–¨–ù–´–ú –í–´–ó–û–í–û–ú –ö–û–ú–ü–û–ù–ï–ù–¢–ê –î–õ–Ø –£–î–ê–õ–ï–ù–ò–Ø:
                # storage_manager.deleteItem(key) 
                print(f"DEBUG: –ü—ã—Ç–∞—é—Å—å —É–¥–∞–ª–∏—Ç—å –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã–π –∫–ª—é—á: '{key}'") # –£–±—Ä–∞—Ç—å –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
                return None
            except Exception as e:
                st.error(f"–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è –∏–∑ localStorage (–∫–ª—é—á: {key}): {e}")
                return None
        
        def delete_from_localStorage(key: str) -> bool:
            try:
                # –ó–ê–ú–ï–ù–ò–¢–¨ –≠–¢–û –†–ï–ê–õ–¨–ù–´–ú –í–´–ó–û–í–û–ú –ö–û–ú–ü–û–ù–ï–ù–¢–ê:
                # storage_manager.deleteItem(key)
                print(f"DEBUG: –ü—ã—Ç–∞—é—Å—å —É–¥–∞–ª–∏—Ç—å –∫–ª—é—á: '{key}'") # –£–±—Ä–∞—Ç—å –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
                return True
            except Exception as e:
                st.error(f"–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –∫–ª—é—á–∞ –∏–∑ localStorage (–∫–ª—é—á: {key}): {e}")
                return False
        ```

2.  **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ö–ª—é—á–µ–π –¥–ª—è `localStorage` (—Å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º):**
    *   `PROFILE_ID_KEY = "arkham_alert_profile_id_v1"`
    *   `CACHE_STATE_KEY_TEMPLATE = "arkham_alert_cache_state_v{version}_{profile_id}"`
    *   `FILTER_SETTINGS_KEY_TEMPLATE = "arkham_alert_filter_settings_v{version}_{profile_id}"`
    *   –¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è –¥–ª—è –¥–∞–Ω–Ω—ã—Ö: `DATA_VERSION = "1"` (–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–∞–∫ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É –≤ `app.py`).

**II. –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è/–ü—Ä–æ—Ñ–∏–ª—è**

1.  **–ú–µ—Ö–∞–Ω–∏–∑–º –ü—Ä–æ—Ñ–∏–ª–µ–π (–£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –ë—Ä–∞—É–∑–µ—Ä–∞):**
    *   **–ó–∞–¥–∞—á–∞:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
    *   **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è (–≤ `app.py`):**
        ```python
        # import uuid # –£–∂–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω

        def get_or_create_profile_id() -> str:
            profile_data = get_from_localStorage(PROFILE_ID_KEY) 
            if profile_data and isinstance(profile_data, dict) and "id" in profile_data:
                 return profile_data["id"]
            
            new_profile_id = str(uuid.uuid4())
            # –°–æ—Ö—Ä–∞–Ω—è–µ–º ID –≤ –≤–∏–¥–µ —Å–ª–æ–≤–∞—Ä—è, —á—Ç–æ–±—ã –≤ –±—É–¥—É—â–µ–º –º–æ–∂–Ω–æ –±—ã–ª–æ –¥–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª—è
            success = set_to_localStorage(PROFILE_ID_KEY, {"id": new_profile_id, "created_at": time.time()}) 
            if success:
                return new_profile_id
            else:
                st.warning("–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å ID –ø—Ä–æ—Ñ–∏–ª—è –≤ localStorage. " 
                           "–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –±—É–¥–µ—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ –≤ —ç—Ç–æ–π —Å–µ—Å—Å–∏–∏. "
                           "–í–æ–∑–º–æ–∂–Ω–æ, localStorage –æ—Ç–∫–ª—é—á–µ–Ω –∏–ª–∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω.")
                # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–π ID, —á—Ç–æ–±—ã –æ—Å—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –Ω–µ –ø–∞–¥–∞–ª–∞, –Ω–æ –ø–æ–Ω–∏–º–∞–ª–∞, —á—Ç–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
                return f"session_only_{str(uuid.uuid4())}" 
        ```
    *   `profile_id` –±—É–¥–µ—Ç –ø–æ–ª—É—á–µ–Ω –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ `st.session_state` –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ `st.session_state.current_profile_id`.
    *   –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –µ—Å–ª–∏ `profile_id` –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `"session_only_"`, —Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–µ –±—É–¥—É—Ç –ø—ã—Ç–∞—Ç—å—Å—è –ø–∏—Å–∞—Ç—å –≤ `localStorage`.

**III. –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è `streamlit_app/app.py` (–ó–∞–≥—Ä—É–∑–∫–∞ –∏ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –°–æ—Å—Ç–æ—è–Ω–∏—è)**

1.  **–ò–º–ø–æ—Ä—Ç—ã:** `json`, `uuid`, `time`.

2.  **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `initialize_session_state()`:**
    *   **–í —Å–∞–º–æ–º –Ω–∞—á–∞–ª–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–¥–æ –∑–∞–≥—Ä—É–∑–∫–∏ API –∫–ª—é—á–∞):**
        *   `st.session_state.current_profile_id = get_or_create_profile_id()`
        *   `st.session_state.localStorage_available = not st.session_state.current_profile_id.startswith("session_only_")`
    *   **–ü–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ `st.session_state.arkham_monitor` (–µ—Å–ª–∏ `api_key_loaded` –ò `st.session_state.localStorage_available`):**
        *   `profile_id = st.session_state.current_profile_id`
        *   `cache_ls_key = CACHE_STATE_KEY_TEMPLATE.format(version=DATA_VERSION, profile_id=profile_id)`
        *   **–ó–∞–≥—Ä—É–∑–∫–∞ –°–æ—Å—Ç–æ—è–Ω–∏—è –ö–µ—à–∞:**
            *   `saved_cache_state_dict = get_from_localStorage(cache_ls_key)`
            *   –ï—Å–ª–∏ `saved_cache_state_dict` (—É–∂–µ —Å–ª–æ–≤–∞—Ä—å):
                *   –í `try-except` –±–ª–æ–∫–µ (–Ω–∞ —Å–ª—É—á–∞–π –ø—Ä–æ–±–ª–µ–º —Å `load_full_cache_state` –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —É—Å–ø–µ—à–Ω—É—é –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—é):
                    *   `st.session_state.arkham_monitor.load_full_cache_state(saved_cache_state_dict)`
                    *   –û–±–Ω–æ–≤–∏—Ç—å `st.session_state.cache_initialized_flag = True`.
                    *   –û–±–Ω–æ–≤–∏—Ç—å `st.session_state.known_tokens` –∏ `st.session_state.known_addresses` –∏–∑ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∞.
                    *   –û–±–Ω–æ–≤–∏—Ç—å `st.session_state.detailed_token_info` –∏ `st.session_state.detailed_address_info`.
                    *   `st.toast("–ö–µ—à Arkham –∑–∞–≥—Ä—É–∂–µ–Ω –∏–∑ –ø–∞–º—è—Ç–∏ –±—Ä–∞—É–∑–µ—Ä–∞.", icon="‚úÖ")`
                *   –ü—Ä–∏ –æ—à–∏–±–∫–µ: `st.warning(f"–û—à–∏–±–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–≥–æ –∫–µ—à–∞ Arkham: {e}")`
        *   **–ó–∞–≥—Ä—É–∑–∫–∞ –ù–∞—Å—Ç—Ä–æ–µ–∫ –§–∏–ª—å—Ç—Ä–æ–≤:**
            *   `filters_ls_key = FILTER_SETTINGS_KEY_TEMPLATE.format(version=DATA_VERSION, profile_id=profile_id)`
            *   `loaded_filters = get_from_localStorage(filters_ls_key)`
            *   –ï—Å–ª–∏ `loaded_filters` (—É–∂–µ —Å–ª–æ–≤–∞—Ä—å):
                *   –ë–µ–∑–æ–ø–∞—Å–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –∫–ª—é—á–∏ –≤ `st.session_state` –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–æ–≤, –∏—Å–ø–æ–ª—å–∑—É—è `loaded_filters.get(key, st.session_state.get(key))` (—á—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –µ—Å–ª–∏ –∫–ª—é—á –µ—Å—Ç—å –≤ session_state, –Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ loaded_filters).
                *   `st.toast("–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∑–∞–≥—Ä—É–∂–µ–Ω—ã.", icon="‚úÖ")`

3.  **–§—É–Ω–∫—Ü–∏—è `save_arkham_cache_to_localStorage()`:**
    *   –ï—Å–ª–∏ –Ω–µ `st.session_state.localStorage_available`, —Ç–æ –≤—ã—Ö–æ–¥.
    *   –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `st.session_state.arkham_monitor`.
    *   `cache_state_dict = st.session_state.arkham_monitor.get_full_cache_state()`.
    *   –ï—Å–ª–∏ `cache_state_dict`:
        *   `profile_id = st.session_state.current_profile_id`
        *   `cache_ls_key = CACHE_STATE_KEY_TEMPLATE.format(version=DATA_VERSION, profile_id=profile_id)`
        *   –ï—Å–ª–∏ `set_to_localStorage(cache_ls_key, cache_state_dict)` –≤–µ—Ä–Ω—É–ª–æ `True`:
            *   `st.toast("–ö–µ—à Arkham —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ –ø–∞–º—è—Ç–∏ –±—Ä–∞—É–∑–µ—Ä–∞.", icon="üíæ")`
    *   **–í—ã–∑—ã–≤–∞—Ç—å:** –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ `handle_populate_cache_button()`.

4.  **–§—É–Ω–∫—Ü–∏—è `save_filter_settings_to_localStorage()`:**
    *   –ï—Å–ª–∏ –Ω–µ `st.session_state.localStorage_available`, —Ç–æ –≤—ã—Ö–æ–¥.
    *   –°–æ–±—Ä–∞—Ç—å —Å–ª–æ–≤–∞—Ä—å `settings_to_save` –∏–∑ `st.session_state` (—Ç–æ–ª—å–∫–æ –∫–ª—é—á–∏, –æ—Ç–Ω–æ—Å—è—â–∏–µ—Å—è –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º –≤–∏–¥–∂–µ—Ç–æ–≤ —Ñ–∏–ª—å—Ç—Ä–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä, `lookback_cache_input`, `min_usd_query_input` –∏ —Ç.–¥.).
    *   `profile_id = st.session_state.current_profile_id`
    *   `filters_ls_key = FILTER_SETTINGS_KEY_TEMPLATE.format(version=DATA_VERSION, profile_id=profile_id)`
    *   –ï—Å–ª–∏ `set_to_localStorage(filters_ls_key, settings_to_save)` –≤–µ—Ä–Ω—É–ª–æ `True`:
        *   `st.toast("–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã.", icon="üíæ")`
    *   **–í—ã–∑—ã–≤–∞—Ç—å:** –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ `handle_fetch_transactions_button()`.

**IV. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–ò–∑–º–µ–Ω–µ–Ω–∏—è)**

1.  **–ò–Ω–¥–∏–∫–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ localStorage:**
    *   –í `initialize_session_state`, –µ—Å–ª–∏ `localStorage_available` —Ä–∞–≤–Ω–æ `False`, –º–æ–∂–Ω–æ –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å `st.warning("–§—É–Ω–∫—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞. –î–∞–Ω–Ω—ã–µ –Ω–µ –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏.")`.
2.  **–ö–Ω–æ–ø–∫–∞ "–°–±—Ä–æ—Å–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ":**
    *   –î–æ–±–∞–≤–∏—Ç—å –≤ —Å–∞–π–¥–±–∞—Ä. –°–¥–µ–ª–∞—Ç—å –µ–µ –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–π (`disabled=not st.session_state.localStorage_available`), –µ—Å–ª–∏ localStorage –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω.
    *   –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏:
        *   –ó–∞–ø—Ä–æ—Å–∏—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ `st.confirm("–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –≤—Å–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —ç—Ç–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞ (–∫–µ—à Arkham –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤)?")`.
        *   –ï—Å–ª–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ:
            *   `profile_id = st.session_state.current_profile_id`
            *   `cache_ls_key = CACHE_STATE_KEY_TEMPLATE.format(version=DATA_VERSION, profile_id=profile_id)`
            *   `filters_ls_key = FILTER_SETTINGS_KEY_TEMPLATE.format(version=DATA_VERSION, profile_id=profile_id)`
            *   `delete_from_localStorage(cache_ls_key)`
            *   `delete_from_localStorage(filters_ls_key)`
            *   `delete_from_localStorage(PROFILE_ID_KEY)`
            *   `st.success("–°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–±—Ä–æ—à–µ–Ω—ã. –ü—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π –ø—Ä–æ—Ñ–∏–ª—å –∏ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è —Å API Arkham.")`
            *   –ú–æ–∂–Ω–æ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å `st.button("–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å–µ–π—á–∞—Å")`, –ø–æ –∫–ª–∏–∫—É –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω–∏—Ç—å `st.experimental_rerun()` (—Ö–æ—Ç—è –ø–æ–ª–Ω–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ Ctrl+R –Ω–∞–¥–µ–∂–Ω–µ–µ –¥–ª—è —Å–±—Ä–æ—Å–∞ –≤—Å–µ–≥–æ).

**V. –û–±—Ä–∞–±–æ—Ç–∫–∞ –ö—Ä–∞–π–Ω–∏—Ö –°–ª—É—á–∞–µ–≤ –∏ –û—à–∏–±–æ–∫ (–£—Å–∏–ª–µ–Ω–æ)**

1.  **–û–±—â–∏–µ –ü—Ä–∏–Ω—Ü–∏–ø—ã:** –§—É–Ω–∫—Ü–∏–∏-–æ–±–µ—Ä—Ç–∫–∏ `set_to_localStorage`, `get_from_localStorage`, `delete_from_localStorage` –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É—é—Ç –±–∞–∑–æ–≤—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ. –í—ã–∑—ã–≤–∞—é—â–∏–π –∫–æ–¥ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏—Ö –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è.
2.  **–ü–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã–µ –î–∞–Ω–Ω—ã–µ:** `get_from_localStorage` —É–∂–µ –ø—ã—Ç–∞–µ—Ç—Å—è —É–¥–∞–ª–∏—Ç—å –∫–ª—é—á –ø—Ä–∏ –æ—à–∏–±–∫–µ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏.
3.  **–õ–∏–º–∏—Ç—ã `localStorage`:** –ë–∞–∑–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ –≤ `set_to_localStorage`. –ü—Ä–∏ –æ—Ç–∫–∞–∑–µ –≤ –∑–∞–ø–∏—Å–∏ –∏–∑-–∑–∞ —Ä–∞–∑–º–µ—Ä–∞, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∏—Ç `st.warning`.

**VI. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `localStorage`**
*   –ü–µ—Ä–≤–æ–æ—á–µ—Ä–µ–¥–Ω–∞—è –∑–∞–¥–∞—á–∞ - –Ω–∞–π—Ç–∏ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–¥–µ–∂–Ω—ã–π —Å—Ç–æ—Ä–æ–Ω–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç.
*   –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –≤–∫–ª—é—á–∞—Ç—å:
    *   –£—Å–ø–µ—à–Ω—É—é –∑–∞–ø–∏—Å—å/—á—Ç–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ.
    *   –ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —á—Ç–µ–Ω–∏—è –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–ª—é—á–∞ (–¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å `None` –±–µ–∑ –æ—à–∏–±–æ–∫).
    *   –û–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∑–∞–ø–∏—Å–∞—Ç—å —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–µ –¥–∞–Ω–Ω—ã–µ (–µ—Å–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —ç—Ç–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç).
    *   –ö–∞–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤–µ–¥–µ—Ç —Å–µ–±—è, –µ—Å–ª–∏ `localStorage` –≤ –±—Ä–∞—É–∑–µ—Ä–µ –æ—Ç–∫–ª—é—á–µ–Ω –∏–ª–∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω (–¥–æ–ª–∂–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ–æ–±—â–∞—Ç—å –æ–± –æ—à–∏–±–∫–µ –≤ Python, –Ω–µ –≤—ã–∑—ã–≤–∞—è –ø–∞–¥–µ–Ω–∏–µ JS).

**–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤ `app.py`:**
```python
DATA_VERSION = "1"
PROFILE_ID_KEY = "arkham_alert_profile_id_v1" # –ö–ª—é—á –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–∞–º–æ–≥–æ ID –ø—Ä–æ—Ñ–∏–ª—è
CACHE_STATE_KEY_TEMPLATE = "arkham_alert_cache_state_v{version}_{profile_id}"
FILTER_SETTINGS_KEY_TEMPLATE = "arkham_alert_filter_settings_v{version}_{profile_id}"
MAX_LOCAL_STORAGE_ITEM_SIZE_MB = 4.5 # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –æ–¥–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
```

**–û–∂–∏–¥–∞–µ–º—ã–π –†–µ–∑—É–ª—å—Ç–∞—Ç:**
–î–µ—Ç–∞–ª—å–Ω—ã–π, –Ω–∞–¥–µ–∂–Ω—ã–π –∏ –≥–æ—Ç–æ–≤—ã–π –∫ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–ª–∞–Ω, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª–∏—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å –≤—ã—Å–æ–∫–æ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é —É—Å–ø–µ—Ö–∞ —Å –ø–µ—Ä–≤–æ–≥–æ —Ä–∞–∑–∞, —É—á–∏—Ç—ã–≤–∞—è –º–Ω–æ–∂–µ—Å—Ç–≤–æ –Ω—é–∞–Ω—Å–æ–≤ —Ä–∞–±–æ—Ç—ã —Å `localStorage` –≤ Streamlit. 