# Arkham Client Streamlit Explorer

Интерактивное веб-приложение на Streamlit для работы с библиотекой `arkham_client`, позволяющее отслеживать и анализировать транзакции в блокчейне через API Arkham Intelligence.

**Версия:** 1.0.0

## Функционал

*   **Настройка API и Кеша:**
    *   Автоматическая загрузка API-ключа Arkham из файла `.env`.
    *   Возможность настроить параметры и запустить первоначальное наполнение внутреннего кеша библиотеки `arkham_client` (списки известных адресов и токенов) для более эффективной фильтрации.
*   **Фильтрация Транзакций:**
    *   Фильтрация по минимальной сумме в USD.
    *   Фильтрация по временному периоду (lookback).
    *   Фильтрация по символам токенов (выбор из списка, загруженного в кеш).
    *   Фильтрация по именам/адресам отправителей (выбор из списка, загруженного в кеш).
    *   Фильтрация по именам/адресам получателей (выбор из списка, загруженного в кеш).
    *   Установка лимита на количество возвращаемых транзакций.
*   **Отображение Результатов:**
    *   Просмотр найденных транзакций в интерактивной таблице.
    *   Скачивание результатов в формате CSV.
*   **Информация о Кеше:**
    *   Просмотр количества загруженных в кеш уникальных имен/адресов и символов токенов.
    *   Возможность отобразить сами списки элементов кеша.
*   **Компактный Интерфейс:** Применены пользовательские стили для более компактного отображения элементов.

## Установка и Запуск

**Предварительные требования:**
*   Python 3.8+.
*   Установленный Git (если `arkham_client` устанавливается из локального git-репозитория).
*   Виртуальное окружение (рекомендуется).

**Шаги по установке:**

1.  **Клонируйте репозиторий (если необходимо):**
    Если вы получили это приложение как часть большего проекта, этот шаг может быть уже выполнен.

2.  **Создайте файл `.env`:**
    В корневой директории проекта (например, `arkham_web/`, на одном уровне с папкой `streamlit_app/`) создайте файл с именем `.env` и добавьте в него ваш API-ключ от Arkham Intelligence:
    ```
    ARKHAM_API_KEY="ВАШ_API_КЛЮЧ_ЗДЕСЬ"
    ```

3.  **Создайте и активируйте виртуальное окружение (рекомендуется):**
    ```bash
    python -m venv .venv
    # Windows
    .\.venv\Scripts\Activate.ps1
    # macOS/Linux
    # source .venv/bin/activate
    ```

4.  **Установите зависимости:**
    Перейдите в корневую директорию проекта (например, `arkham_web/`) и выполните:
    ```bash
    pip install -r streamlit_app/requirements.txt
    ```
    Это установит `streamlit`, `pandas`, `python-dotenv` и локальную библиотеку `arkham_client` в режиме редактирования.

5.  **Запустите приложение Streamlit:**
    Убедитесь, что ваше виртуальное окружение активировано. Затем выполните команду из корневой директории проекта:
    ```bash
    streamlit run streamlit_app/app.py
    ```

    Приложение должно открыться в вашем веб-браузере.

## Структура Проекта (внутри `streamlit_app/`)

```
streamlit_app/
├── app.py                     # Основной файл приложения Streamlit (UI, управление потоком)
├── arkham_service.py          # Модуль для всей логики работы с arkham_client
├── assets/
│   └── style.css              # Пользовательские стили для компактности
├── requirements.txt           # Зависимости приложения
└── docs/
    ├── UI_Specification.md        # Спецификация пользовательского интерфейса
    └── Architecture_Specification.md # Спецификация архитектуры
```

## Использование

1.  **Загрузка кеша:** После запуска приложения, перейдите в сайдбар, раскройте секцию "Настройки API и Кеша". При необходимости измените параметры и нажмите "Загрузить/Обновить кеш". Это важно для корректной работы фильтров по именам и токенам.
2.  **Установка фильтров:** В сайдбаре в секции "Фильтры Транзакций" установите желаемые критерии поиска.
3.  **Запрос транзакций:** Нажмите кнопку "Найти Транзакции".
4.  **Просмотр результатов:** Результаты отобразятся в основной части приложения. Их можно скачать в CSV.
5.  **Информация о кеше:** В основной части приложения можно раскрыть секцию "Информация о кеше" для просмотра статистики и списков загруженных элементов. 